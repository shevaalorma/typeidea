Index: typeidea/typeidea/settings/base.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"\"\"\nDjango settings for typeidea project.\n\nGenerated by 'django-admin startproject' using Django 1.11.29.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.11/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.11/ref/settings/\n\"\"\"\n\nimport os\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.11/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'g(w&2r(59q_v*xt@e8&hy$1(bnc1v_rdh5oss#fmj+albrti^e'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = []\n\n# Application definition\nXADMIN_TITLE = 'Typeidea管理后台'\nXADMIN_FOOTER_TITLE = \"power by anzheng.com\"\n\nINSTALLED_APPS = [\n    'typeidea',\n    'comment',\n    'blog',\n    'config',\n    'xadmin',\n    'crispy_forms',\n    'ckeditor',\n    'ckeditor_uploader',\n    'dal',\n    'dal_select2',\n    'rest-framework',\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n]\n\nMIDDLEWARE = [\n    'blog.middleware.user_id.UserIDMIDDLEWARE',\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nCKEDITOR_CONFIGS = {\n    'default': {\n        'toolbar': 'full',\n        'height': 300,\n        'width': 800,\n        'tabSpaces': 4,\n        'extraPlugins': 'codesnippet'\n    }\n}\n\nROOT_URLCONF = 'typeidea.urls'\n\nTHEME = 'bootstrap'\n# THEME = 'default'\n\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'themes', THEME, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'typeidea.wsgi.application'\n\n# Database\n# https://docs.djangoproject.com/en/1.11/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n\n# Password validation\n# https://docs.djangoproject.com/en/1.11/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.11/topics/i18n/\n\nLANGUAGE_CODE = 'zh-hans'\n\nTIME_ZONE = 'Asia/Shanghai'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.11/howto/static-files/\n\nSTATIC_URL = '/static/'\n\nSTATICFILES_DIRS = [os.path.join(BASE_DIR, 'themes', THEME, 'static')]\n\nMEDIA_URL = \"/media/\"\nMEDIA_ROOT = os.path.join(BASE_DIR,\"media\")\nCKEDITOR_UPLOAD_PATH = \"article_images\"\n\nDEFAULT_FILE_STORAGE = 'typeidea.storage.WatermarkStorage'\n\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- typeidea/typeidea/settings/base.py	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
+++ typeidea/typeidea/settings/base.py	(date 1590720291794)
@@ -144,9 +144,5 @@
 STATICFILES_DIRS = [os.path.join(BASE_DIR, 'themes', THEME, 'static')]
 
 MEDIA_URL = "/media/"
-MEDIA_ROOT = os.path.join(BASE_DIR,"media")
+MEDIA_ROOT = [os.path.join(BASE_DIR,"media")]
 CKEDITOR_UPLOAD_PATH = "article_images"
-
-DEFAULT_FILE_STORAGE = 'typeidea.storage.WatermarkStorage'
-
-
Index: typeidea/blog/adminforms.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django import forms\nfrom dal import autocomplete\nfrom ckeditor.widgets import CKEditorWidget\nfrom .models import Category,Tag,Post\nfrom ckeditor_uploader.widgets import CKEditorUploadingWidget\n\nclass PostAdminForm(forms.ModelForm):\n    desc = forms.CharField(widget=forms.Textarea,label='摘要',required=False)\n    category = forms.ModelChoiceField(\n        queryset=Category.objects.all(),\n        widget=autocomplete.ModelSelect2(url='category-autocomplete'),\n        label='分类',\n    )\n    tag = forms.ModelMultipleChoiceField(\n        queryset=Tag.objects.all(),\n        widget=autocomplete.ModelSelect2Multiple(url='tag-autocomplete'),\n        label='标签'\n    )\n    content_ck = forms.CharField(widget=CKEditorUploadingWidget,label='正文',required=False)\n    content_md = forms.CharField(widget=forms.Textarea(),label='正文',required=False)\n    content = forms.CharField(widget=forms.HiddenInput,required=False)\n\n    class Meta:\n        model = Post\n        fields = ('category','tag','title','desc','is_md','content','content_md','content_ck','status')\n\n    def __init__(self,instance=None,initial=None,**kwargs):\n        initial = initial or {}\n        if instance:\n            if instance.is_md:\n                initial['content_md'] = instance.content\n            else:\n                initial['content_ck'] = instance.content\n        super().__init__(instance=instance,initial=initial,**kwargs)\n\n    def clean(self):\n        is_md = self.cleaned_data.get('is_md')\n        if is_md:\n            content_field_name = 'content_md'\n        else:\n            content_field_name = 'content_ck'\n        content = self.cleaned_data.get(content_field_name)\n        if not content:\n            self.add_error(content_field_name,'必须填!')\n            return\n        self.cleaned_data['content'] = content\n        return super().clean()\n\n    class Media:\n        js = ('js/post_editor.js',)\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- typeidea/blog/adminforms.py	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
+++ typeidea/blog/adminforms.py	(date 1590720291791)
@@ -16,35 +16,8 @@
         widget=autocomplete.ModelSelect2Multiple(url='tag-autocomplete'),
         label='标签'
     )
-    content_ck = forms.CharField(widget=CKEditorUploadingWidget,label='正文',required=False)
-    content_md = forms.CharField(widget=forms.Textarea(),label='正文',required=False)
-    content = forms.CharField(widget=forms.HiddenInput,required=False)
+    content = forms.CharField(widget=CKEditorUploadingWidget(),label='正文',required=True)
 
     class Meta:
         model = Post
-        fields = ('category','tag','title','desc','is_md','content','content_md','content_ck','status')
-
-    def __init__(self,instance=None,initial=None,**kwargs):
-        initial = initial or {}
-        if instance:
-            if instance.is_md:
-                initial['content_md'] = instance.content
-            else:
-                initial['content_ck'] = instance.content
-        super().__init__(instance=instance,initial=initial,**kwargs)
-
-    def clean(self):
-        is_md = self.cleaned_data.get('is_md')
-        if is_md:
-            content_field_name = 'content_md'
-        else:
-            content_field_name = 'content_ck'
-        content = self.cleaned_data.get(content_field_name)
-        if not content:
-            self.add_error(content_field_name,'必须填!')
-            return
-        self.cleaned_data['content'] = content
-        return super().clean()
-
-    class Media:
-        js = ('js/post_editor.js',)
+        fields = ('category','tag','title','desc','content','status')
\ No newline at end of file
Index: typeidea/typeidea/themes/bootstrap/static/js/post_editor.js
===================================================================
--- typeidea/typeidea/themes/bootstrap/static/js/post_editor.js	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
+++ typeidea/typeidea/themes/bootstrap/static/js/post_editor.js	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
@@ -1,18 +0,0 @@
-(function ($) {
-    var $content_md = $('#div_id_content_md');
-    var $content_ck = $('#div_id_content_ck');
-    var $is_md = $('input[name=is_md]');
-    var switch_editor = function (is_md) {
-        if (is_md){
-            $content_md.show();
-            $content_ck.hide();
-        }else {
-            $content_md.hide();
-            $content_ck.show();
-        }
-    }
-    $is_md.on('click',function () {
-        switch_editor($(this).is(':checked'));
-    });
-    switch_editor($is_md.is(':checked'));
-})(jQuery);
\ No newline at end of file
Index: typeidea/typeidea/storage.py
===================================================================
--- typeidea/typeidea/storage.py	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
+++ typeidea/typeidea/storage.py	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
@@ -1,30 +0,0 @@
-from io import BytesIO
-from django.core.files.storage import FileSystemStorage
-from django.core.files.uploadedfile import InMemoryUploadedFile
-from PIL import Image, ImageDraw, ImageFont
-
-
-class WatermarkStorage(FileSystemStorage):
-    def save(self, name, content, max_length=None):
-        # 处理逻辑
-        if 'image' in content.content_type:
-            # 加水印
-            image = self.watermark_with_text(content, 'anzheng_school.com', 'red')
-            content = self.convert_image_to_file(image, name)
-
-        return super().save(name, content, max_length=max_length)
-
-    def watermark_with_text(self, file_obj, text, color, fontfamily=None):
-        image = Image.open(file_obj).convert('RGBA')
-        draw = ImageDraw.Draw(image)
-        width, height = image.size
-        margin = 10
-        if fontfamily:
-            font = ImageFont.truetype(fontfamily, int(height / 20))
-        else:
-            font = None
-        textWidth,textHeight = draw.textsize(text,font)
-        x = (width-textWidth - margin) / 2 #计算横轴位置
-        y = height - textHeight - margin #计算纵轴位置
-        draw.text((x,y),text,color,font)
-        return image
Index: .idea/dataSources/128f31e0-3883-40aa-80f5-bd18fcb88913.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/dataSources/128f31e0-3883-40aa-80f5-bd18fcb88913.xml	(date 1590720291791)
+++ .idea/dataSources/128f31e0-3883-40aa-80f5-bd18fcb88913.xml	(date 1590720291791)
@@ -0,0 +1,814 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<dataSource name="db">
+  <database-model serializer="dbm" dbms="SQLITE" family-id="SQLITE" format-version="4.18">
+    <root id="1">
+      <ServerVersion>3.25.1</ServerVersion>
+    </root>
+    <schema id="2" parent="1" name="main">
+      <Current>1</Current>
+    </schema>
+    <collation id="3" parent="1" name="BINARY"/>
+    <collation id="4" parent="1" name="NOCASE"/>
+    <collation id="5" parent="1" name="RTRIM"/>
+    <table id="6" parent="2" name="auth_group"/>
+    <table id="7" parent="2" name="auth_group_permissions"/>
+    <table id="8" parent="2" name="auth_permission"/>
+    <table id="9" parent="2" name="auth_user"/>
+    <table id="10" parent="2" name="auth_user_groups"/>
+    <table id="11" parent="2" name="auth_user_user_permissions"/>
+    <table id="12" parent="2" name="blog_category"/>
+    <table id="13" parent="2" name="blog_post"/>
+    <table id="14" parent="2" name="blog_post_tag"/>
+    <table id="15" parent="2" name="blog_tag"/>
+    <table id="16" parent="2" name="comment_comment"/>
+    <table id="17" parent="2" name="config_link"/>
+    <table id="18" parent="2" name="config_sidebar"/>
+    <table id="19" parent="2" name="django_admin_log"/>
+    <table id="20" parent="2" name="django_content_type"/>
+    <table id="21" parent="2" name="django_migrations"/>
+    <table id="22" parent="2" name="django_session"/>
+    <table id="23" parent="2" name="sqlite_master">
+      <System>1</System>
+    </table>
+    <table id="24" parent="2" name="sqlite_sequence">
+      <System>1</System>
+    </table>
+    <column id="25" parent="6" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="26" parent="6" name="name">
+      <Position>2</Position>
+      <DataType>varchar(80)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="27" parent="6" name="sqlite_autoindex_auth_group_1">
+      <NameSurrogate>1</NameSurrogate>
+      <ColNames>name</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <key id="28" parent="6">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <key id="29" parent="6">
+      <ColNames>name</ColNames>
+      <UnderlyingIndexName>sqlite_autoindex_auth_group_1</UnderlyingIndexName>
+    </key>
+    <column id="30" parent="7" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="31" parent="7" name="group_id">
+      <Position>2</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="32" parent="7" name="permission_id">
+      <Position>3</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="33" parent="7" name="auth_group_permissions_group_id_permission_id_0cd325b0_uniq">
+      <ColNames>group_id
+permission_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="34" parent="7" name="auth_group_permissions_group_id_b120cbf9">
+      <ColNames>group_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="35" parent="7" name="auth_group_permissions_permission_id_84c5c92e">
+      <ColNames>permission_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="36" parent="7">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="37" parent="7">
+      <ColNames>group_id</ColNames>
+      <RefTableName>auth_group</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="38" parent="7">
+      <ColNames>permission_id</ColNames>
+      <RefTableName>auth_permission__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="39" parent="8" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="40" parent="8" name="content_type_id">
+      <Position>2</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="41" parent="8" name="codename">
+      <Position>3</Position>
+      <DataType>varchar(100)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="42" parent="8" name="name">
+      <Position>4</Position>
+      <DataType>varchar(255)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="43" parent="8" name="auth_permission_content_type_id_codename_01ab375a_uniq">
+      <ColNames>content_type_id
+codename</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="44" parent="8" name="auth_permission_content_type_id_2f476e4b">
+      <ColNames>content_type_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="45" parent="8">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="46" parent="8">
+      <ColNames>content_type_id</ColNames>
+      <RefTableName>django_content_type</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="47" parent="9" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="48" parent="9" name="password">
+      <Position>2</Position>
+      <DataType>varchar(128)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="49" parent="9" name="last_login">
+      <Position>3</Position>
+      <DataType>datetime|0s</DataType>
+    </column>
+    <column id="50" parent="9" name="is_superuser">
+      <Position>4</Position>
+      <DataType>bool|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="51" parent="9" name="first_name">
+      <Position>5</Position>
+      <DataType>varchar(30)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="52" parent="9" name="last_name">
+      <Position>6</Position>
+      <DataType>varchar(30)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="53" parent="9" name="email">
+      <Position>7</Position>
+      <DataType>varchar(254)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="54" parent="9" name="is_staff">
+      <Position>8</Position>
+      <DataType>bool|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="55" parent="9" name="is_active">
+      <Position>9</Position>
+      <DataType>bool|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="56" parent="9" name="date_joined">
+      <Position>10</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="57" parent="9" name="username">
+      <Position>11</Position>
+      <DataType>varchar(150)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="58" parent="9" name="sqlite_autoindex_auth_user_1">
+      <NameSurrogate>1</NameSurrogate>
+      <ColNames>username</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <key id="59" parent="9">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <key id="60" parent="9">
+      <ColNames>username</ColNames>
+      <UnderlyingIndexName>sqlite_autoindex_auth_user_1</UnderlyingIndexName>
+    </key>
+    <column id="61" parent="10" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="62" parent="10" name="user_id">
+      <Position>2</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="63" parent="10" name="group_id">
+      <Position>3</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="64" parent="10" name="auth_user_groups_user_id_group_id_94350c0c_uniq">
+      <ColNames>user_id
+group_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="65" parent="10" name="auth_user_groups_user_id_6a12ed8b">
+      <ColNames>user_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="66" parent="10" name="auth_user_groups_group_id_97559544">
+      <ColNames>group_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="67" parent="10">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="68" parent="10">
+      <ColNames>user_id</ColNames>
+      <RefTableName>auth_user__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="69" parent="10">
+      <ColNames>group_id</ColNames>
+      <RefTableName>auth_group</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="70" parent="11" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="71" parent="11" name="user_id">
+      <Position>2</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="72" parent="11" name="permission_id">
+      <Position>3</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="73" parent="11" name="auth_user_user_permissions_user_id_permission_id_14a6b632_uniq">
+      <ColNames>user_id
+permission_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="74" parent="11" name="auth_user_user_permissions_user_id_a95ead1b">
+      <ColNames>user_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="75" parent="11" name="auth_user_user_permissions_permission_id_1fbb5f2c">
+      <ColNames>permission_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="76" parent="11">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="77" parent="11">
+      <ColNames>user_id</ColNames>
+      <RefTableName>auth_user__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="78" parent="11">
+      <ColNames>permission_id</ColNames>
+      <RefTableName>auth_permission__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="79" parent="12" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="80" parent="12" name="name">
+      <Position>2</Position>
+      <DataType>varchar(50)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="81" parent="12" name="status">
+      <Position>3</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="82" parent="12" name="is_nav">
+      <Position>4</Position>
+      <DataType>bool|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="83" parent="12" name="created_time">
+      <Position>5</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="84" parent="12" name="owner_id">
+      <Position>6</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="85" parent="12" name="blog_category_owner_id_96951406">
+      <ColNames>owner_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="86" parent="12">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="87" parent="12">
+      <ColNames>owner_id</ColNames>
+      <RefTableName>auth_user</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="88" parent="13" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="89" parent="13" name="title">
+      <Position>2</Position>
+      <DataType>varchar(255)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="90" parent="13" name="desc">
+      <Position>3</Position>
+      <DataType>varchar(1024)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="91" parent="13" name="content">
+      <Position>4</Position>
+      <DataType>text|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="92" parent="13" name="status">
+      <Position>5</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="93" parent="13" name="created_time">
+      <Position>6</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="94" parent="13" name="category_id">
+      <Position>7</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="95" parent="13" name="owner_id">
+      <Position>8</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="96" parent="13" name="pv">
+      <Position>9</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="97" parent="13" name="uv">
+      <Position>10</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="98" parent="13" name="blog_post_category_id_c326dbf8">
+      <ColNames>category_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="99" parent="13" name="blog_post_owner_id_ff7c9277">
+      <ColNames>owner_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="100" parent="13">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="101" parent="13">
+      <ColNames>category_id</ColNames>
+      <RefTableName>blog_category</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="102" parent="13">
+      <ColNames>owner_id</ColNames>
+      <RefTableName>auth_user</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="103" parent="14" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="104" parent="14" name="post_id">
+      <Position>2</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="105" parent="14" name="tag_id">
+      <Position>3</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="106" parent="14" name="blog_post_tag_post_id_tag_id_ba2a5f83_uniq">
+      <ColNames>post_id
+tag_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="107" parent="14" name="blog_post_tag_post_id_a5c00319">
+      <ColNames>post_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="108" parent="14" name="blog_post_tag_tag_id_2bbd31e4">
+      <ColNames>tag_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="109" parent="14">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="110" parent="14">
+      <ColNames>post_id</ColNames>
+      <RefTableName>blog_post__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="111" parent="14">
+      <ColNames>tag_id</ColNames>
+      <RefTableName>blog_tag</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="112" parent="15" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="113" parent="15" name="name">
+      <Position>2</Position>
+      <DataType>varchar(10)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="114" parent="15" name="status">
+      <Position>3</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="115" parent="15" name="created_time">
+      <Position>4</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="116" parent="15" name="owner_id">
+      <Position>5</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="117" parent="15" name="blog_tag_owner_id_3c8290ca">
+      <ColNames>owner_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="118" parent="15">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="119" parent="15">
+      <ColNames>owner_id</ColNames>
+      <RefTableName>auth_user</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="120" parent="16" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="121" parent="16" name="content">
+      <Position>2</Position>
+      <DataType>varchar(2000)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="122" parent="16" name="nickname">
+      <Position>3</Position>
+      <DataType>varchar(50)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="123" parent="16" name="website">
+      <Position>4</Position>
+      <DataType>varchar(200)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="124" parent="16" name="email">
+      <Position>5</Position>
+      <DataType>varchar(254)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="125" parent="16" name="status">
+      <Position>6</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="126" parent="16" name="created_time">
+      <Position>7</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="127" parent="16" name="target">
+      <Position>8</Position>
+      <DataType>varchar(100)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <key id="128" parent="16">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <column id="129" parent="17" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="130" parent="17" name="title">
+      <Position>2</Position>
+      <DataType>varchar(50)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="131" parent="17" name="href">
+      <Position>3</Position>
+      <DataType>varchar(200)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="132" parent="17" name="status">
+      <Position>4</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="133" parent="17" name="weight">
+      <Position>5</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="134" parent="17" name="created_time">
+      <Position>6</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="135" parent="17" name="owner_id">
+      <Position>7</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="136" parent="17" name="config_link_owner_id_5d54ab6d">
+      <ColNames>owner_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="137" parent="17">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="138" parent="17">
+      <ColNames>owner_id</ColNames>
+      <RefTableName>auth_user</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="139" parent="18" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="140" parent="18" name="title">
+      <Position>2</Position>
+      <DataType>varchar(50)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="141" parent="18" name="display_type">
+      <Position>3</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="142" parent="18" name="content">
+      <Position>4</Position>
+      <DataType>varchar(500)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="143" parent="18" name="status">
+      <Position>5</Position>
+      <DataType>integer unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="144" parent="18" name="created_time">
+      <Position>6</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="145" parent="18" name="owner_id">
+      <Position>7</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="146" parent="18" name="config_sidebar_owner_id_29edf5c5">
+      <ColNames>owner_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="147" parent="18">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="148" parent="18">
+      <ColNames>owner_id</ColNames>
+      <RefTableName>auth_user</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="149" parent="19" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="150" parent="19" name="object_id">
+      <Position>2</Position>
+      <DataType>text|0s</DataType>
+    </column>
+    <column id="151" parent="19" name="object_repr">
+      <Position>3</Position>
+      <DataType>varchar(200)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="152" parent="19" name="action_flag">
+      <Position>4</Position>
+      <DataType>smallint unsigned|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="153" parent="19" name="change_message">
+      <Position>5</Position>
+      <DataType>text|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="154" parent="19" name="content_type_id">
+      <Position>6</Position>
+      <DataType>integer|0s</DataType>
+    </column>
+    <column id="155" parent="19" name="user_id">
+      <Position>7</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="156" parent="19" name="action_time">
+      <Position>8</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="157" parent="19" name="django_admin_log_content_type_id_c4bce8eb">
+      <ColNames>content_type_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <index id="158" parent="19" name="django_admin_log_user_id_c564eba6">
+      <ColNames>user_id</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="159" parent="19">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <foreign-key id="160" parent="19">
+      <ColNames>content_type_id</ColNames>
+      <RefTableName>django_content_type__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <foreign-key id="161" parent="19">
+      <ColNames>user_id</ColNames>
+      <RefTableName>auth_user__old</RefTableName>
+      <RefColNames>id</RefColNames>
+    </foreign-key>
+    <column id="162" parent="20" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="163" parent="20" name="app_label">
+      <Position>2</Position>
+      <DataType>varchar(100)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="164" parent="20" name="model">
+      <Position>3</Position>
+      <DataType>varchar(100)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="165" parent="20" name="django_content_type_app_label_model_76bd3d3b_uniq">
+      <ColNames>app_label
+model</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <key id="166" parent="20">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <column id="167" parent="21" name="id">
+      <Position>1</Position>
+      <DataType>integer|0s</DataType>
+      <NotNull>1</NotNull>
+      <SequenceIdentity>1</SequenceIdentity>
+    </column>
+    <column id="168" parent="21" name="app">
+      <Position>2</Position>
+      <DataType>varchar(255)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="169" parent="21" name="name">
+      <Position>3</Position>
+      <DataType>varchar(255)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="170" parent="21" name="applied">
+      <Position>4</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <key id="171" parent="21">
+      <ColNames>id</ColNames>
+      <Primary>1</Primary>
+    </key>
+    <column id="172" parent="22" name="session_key">
+      <Position>1</Position>
+      <DataType>varchar(40)|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="173" parent="22" name="session_data">
+      <Position>2</Position>
+      <DataType>text|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <column id="174" parent="22" name="expire_date">
+      <Position>3</Position>
+      <DataType>datetime|0s</DataType>
+      <NotNull>1</NotNull>
+    </column>
+    <index id="175" parent="22" name="sqlite_autoindex_django_session_1">
+      <NameSurrogate>1</NameSurrogate>
+      <ColNames>session_key</ColNames>
+      <ColumnCollations></ColumnCollations>
+      <Unique>1</Unique>
+    </index>
+    <index id="176" parent="22" name="django_session_expire_date_a5c62663">
+      <ColNames>expire_date</ColNames>
+      <ColumnCollations></ColumnCollations>
+    </index>
+    <key id="177" parent="22">
+      <ColNames>session_key</ColNames>
+      <Primary>1</Primary>
+      <UnderlyingIndexName>sqlite_autoindex_django_session_1</UnderlyingIndexName>
+    </key>
+    <column id="178" parent="23" name="type">
+      <Position>1</Position>
+      <DataType>text|0s</DataType>
+    </column>
+    <column id="179" parent="23" name="name">
+      <Position>2</Position>
+      <DataType>text|0s</DataType>
+    </column>
+    <column id="180" parent="23" name="tbl_name">
+      <Position>3</Position>
+      <DataType>text|0s</DataType>
+    </column>
+    <column id="181" parent="23" name="rootpage">
+      <Position>4</Position>
+      <DataType>int|0s</DataType>
+    </column>
+    <column id="182" parent="23" name="sql">
+      <Position>5</Position>
+      <DataType>text|0s</DataType>
+    </column>
+    <column id="183" parent="24" name="name">
+      <Position>1</Position>
+    </column>
+    <column id="184" parent="24" name="seq">
+      <Position>2</Position>
+    </column>
+  </database-model>
+</dataSource>
\ No newline at end of file
Index: typeidea/blog/models.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nimport mistune\n\nfrom django.contrib.auth.models import User\nfrom django.db import models\n\n\nclass Category(models.Model):\n    STATUS_NORMAL = 1\n    STATUS_DELETE = 0\n    STATUS_ITEMS = (\n        (STATUS_NORMAL, '正常'),\n        (STATUS_DELETE, '删除'),\n    )\n\n    name = models.CharField(max_length=50, verbose_name=\"名称\")\n    status = models.PositiveIntegerField(default=STATUS_NORMAL, choices=STATUS_ITEMS, verbose_name=\"状态\")\n    is_nav = models.BooleanField(default=False, verbose_name=\"是否为导航\")\n    owner = models.ForeignKey(User, verbose_name=\"作者\")\n    created_time = models.DateTimeField(auto_now_add=True, verbose_name=\"创建时间\")\n\n    class Meta:\n        verbose_name = verbose_name_plural = '分类'\n\n    def __str__(self):\n        return self.name\n\n    @classmethod\n    def get_navs(cls):\n        categories = cls.objects.filter(status=cls.STATUS_NORMAL)\n        nav_categories = []\n        normal_categories = []\n        for cate in categories:\n            if cate.is_nav:\n                nav_categories.append(cate)\n            else:\n                normal_categories.append(cate)\n\n        return {\n            'navs': nav_categories,\n            'categories': normal_categories,\n        }\n\n\nclass Tag(models.Model):\n    STATUS_NORMAL = 1\n    STATUS_DELETE = 0\n    STATUS_ITEMS = (\n        (STATUS_NORMAL, '正常'),\n        (STATUS_DELETE, '删除'),\n    )\n\n    name = models.CharField(max_length=10, verbose_name=\"名称\")\n    status = models.PositiveIntegerField(default=STATUS_NORMAL, choices=STATUS_ITEMS, verbose_name=\"状态\")\n    owner = models.ForeignKey(User, verbose_name=\"作者\")\n    created_time = models.DateTimeField(auto_now_add=True, verbose_name=\"创建时间\")\n\n    class Meta:\n        verbose_name = verbose_name_plural = '标签'\n        ordering = ['-id']\n\n    def __str__(self):\n        return self.name\n\n\nclass Post(models.Model):\n    STATUS_NORMAL = 1\n    STATUS_DELETE = 0\n    STATUS_DRAFT = 2\n    STATUS_ITEMS = (\n        (STATUS_NORMAL, '正常'),\n        (STATUS_DELETE, '删除'),\n        (STATUS_DRAFT, '草稿'),\n    )\n\n    title = models.CharField(max_length=255, verbose_name=\"标题\")\n    desc = models.CharField(max_length=1024, blank=True, verbose_name=\"摘要\")\n    content = models.TextField(verbose_name=\"正文\", help_text=\"正文必须为MarkDown格式\")\n    content_html = models.TextField(verbose_name=\"正文html代码\", blank=True, editable=False)\n    status = models.PositiveIntegerField(default=STATUS_NORMAL, choices=STATUS_ITEMS, verbose_name=\"状态\")\n    is_md = models.BooleanField(default=False, verbose_name=\"markdown语法\")\n    category = models.ForeignKey(Category, verbose_name=\"分类\")\n    tag = models.ManyToManyField(Tag, verbose_name=\"标签\")\n    owner = models.ForeignKey(User, verbose_name=\"作者\")\n    created_time = models.DateTimeField(auto_now_add=True, verbose_name=\"创建时间\")\n\n    pv = models.PositiveIntegerField(default=1)\n    uv = models.PositiveIntegerField(default=1)\n\n    class Meta:\n        verbose_name = verbose_name_plural = \"文章\"\n        ordering = ['-id']\n\n    def __str__(self):\n        return self.title\n\n    def save(self, *args, **kwargs):\n        if self.is_md:\n            self.content_html = mistune.markdown(self.content)\n        else:\n            self.content_html = self.content\n        super().save(*args, **kwargs)\n\n    @staticmethod\n    def get_by_tag(tag_id):\n        try:\n            tag = Tag.objects.get(id=tag_id)\n        except Tag.DoesNotExist:\n            tag = None\n            post_list = []\n        else:\n            post_list = tag.post_set.filter(status=Post.STATUS_NORMAL)\\\n                .select_related('owner', 'category')\n        return post_list, tag\n\n    @staticmethod\n    def get_by_category(category_id):\n        try:\n            category = Category.objects.get(id=category_id)\n        except Category.DoesNotExist:\n            category = None\n            post_list = []\n        else:\n            post_list = category.post_set.filter(status=Post.STATUS_NORMAL)\\\n                .select_related('owner', 'category')\n        return post_list, category\n\n    @classmethod\n    def latest_posts(cls):\n        return cls.objects.filter(status=cls.STATUS_NORMAL)\n\n    @classmethod\n    def hot_posts(cls):\n        return cls.objects.filter(status=cls.STATUS_NORMAL).order_by('-pv')\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- typeidea/blog/models.py	(revision 4ead0e65c20e6a6f6d8797653bc187bad3cca389)
+++ typeidea/blog/models.py	(date 1590720291794)
@@ -80,7 +80,7 @@
     content = models.TextField(verbose_name="正文", help_text="正文必须为MarkDown格式")
     content_html = models.TextField(verbose_name="正文html代码", blank=True, editable=False)
     status = models.PositiveIntegerField(default=STATUS_NORMAL, choices=STATUS_ITEMS, verbose_name="状态")
-    is_md = models.BooleanField(default=False, verbose_name="markdown语法")
+    # is_md = models.BooleanField(default=False, verbose_name="markdown语法")
     category = models.ForeignKey(Category, verbose_name="分类")
     tag = models.ManyToManyField(Tag, verbose_name="标签")
     owner = models.ForeignKey(User, verbose_name="作者")
